{"version":3,"sources":["../src/TcVerify.js"],"names":["url","module","exports","tc","Ad","Soyad","DogumYili","TCvalidResult","FirstNameValidResult","LastNameValidResult","BirthYearValidResult","valid","args","TCKimlikNo","val","soapResult","Promise","res","rej","soap","createClient","err","client","TCKimlikNoDogrula","result","TCKimlikNoDogrulaResult"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,yDAAZ;;AAEAC,OAAOC,OAAP;AAAA,sEAAiB;AAAA,QAAQC,EAAR,QAAQA,EAAR;AAAA,QAAYC,EAAZ,QAAYA,EAAZ;AAAA,QAAgBC,KAAhB,QAAgBA,KAAhB;AAAA,QAAuBC,SAAvB,QAAuBA,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEVC,yBAFU,GAEM,gCAAmBJ,EAAnB,CAFN;AAGVK,gCAHU,GAGa,4BAAeJ,EAAf,CAHb;AAIVK,+BAJU,GAIY,4BAAeJ,KAAf,CAJZ;AAKVK,gCALU,GAKa,iCAAoBJ,SAApB,CALb;;AAAA,gBAOXC,cAAcI,KAPH;AAAA;AAAA;AAAA;;AAAA,6CAOiBJ,aAPjB;;AAAA;AAAA,gBAQXC,qBAAqBG,KARV;AAAA;AAAA;AAAA;;AAAA,6CAQwBH,oBARxB;;AAAA;AAAA,gBASVC,oBAAoBE,KATV;AAAA;AAAA;AAAA;;AAAA,6CASwBF,mBATxB;;AAAA;AAAA,gBAUVC,qBAAqBC,KAVX;AAAA;AAAA;AAAA;;AAAA,6CAUyBD,oBAVzB;;AAAA;AAYTE,gBAZS,GAYF;AACbC,0BAAYV,EADC;AAEbC,kBAAII,qBAAqBM,GAFZ;AAGbT,qBAAOI,oBAAoBK,GAHd;AAIbR;AAJa,aAZE;AAmBTS,sBAnBS,GAmBI,IAAIC,OAAJ,CAAY,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3CC,6BAAKC,YAAL,CAAkBpB,GAAlB,EAAuB,UAACqB,GAAD,EAAMC,MAAN,EAAiB;AACtCA,uBAAOC,iBAAP,CAAyBX,IAAzB,EAA+B,UAACS,GAAD,EAAMG,MAAN,EAAiB;AAC9CP,sBAAIO,OAAOC,uBAAX;AACD,iBAFD;AAGD,eAJD;AAKD,aANkB,CAnBJ;AAAA,6CA2BTV,UA3BS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA","file":"TcVerify.js","sourcesContent":["import soap from 'soap';\nimport { TCNumberValidation, nameValidation, birthyearValidation } from './helper';\n\nconst url = 'https://tckimlik.nvi.gov.tr/Service/KPSPublic.asmx?WSDL';\n\nmodule.exports = async ({tc, Ad, Soyad, DogumYili}) => {\n\n\tconst TCvalidResult = TCNumberValidation(tc);\n\tconst FirstNameValidResult = nameValidation(Ad);\n\tconst LastNameValidResult = nameValidation(Soyad);\n\tconst BirthYearValidResult = birthyearValidation(DogumYili);\n\n\tif (!TCvalidResult.valid) return TCvalidResult;\n\tif (!FirstNameValidResult.valid) return FirstNameValidResult;\n  if (!LastNameValidResult.valid) return LastNameValidResult;\n  if (!BirthYearValidResult.valid) return BirthYearValidResult;\n  \n  const args = {\n\t\tTCKimlikNo: tc,\n\t\tAd: FirstNameValidResult.val,\n\t\tSoyad: LastNameValidResult.val,\n\t\tDogumYili,\n  };\n  \n  const soapResult = new Promise((res, rej) => {\n    soap.createClient(url, (err, client) => {\n      client.TCKimlikNoDogrula(args, (err, result) => {\n        res(result.TCKimlikNoDogrulaResult);\n      });\n    });\n  }) \n\n\treturn soapResult;\n};\n"]}